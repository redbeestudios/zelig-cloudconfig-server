apiVersion: extensions/v1beta1
kind: Deployment
metadata:
  name: rfsc-cloud-config-server
spec:
  replicas: 1 # tells deployment to run 1 pods matching the template
  template: # create pods using pod definition in this template
    metadata:
      # unlike pod-nginx.yaml, the name is not included in the meta data as a unique name is
      # generated from the deployment name
      labels:
        app: rfsc-cloud-config-server
    spec:
      containers:
      - name: rfsc-cloud-config-server
        image: docker.dev.redbee.io/rfsc-cloud-config-server:latest
        imagePullPolicy: Always
        ports:
        - containerPort: 8888
        args: ["-Dspring.datasource.url=jdbc:postgresql://172.26.230.57:31553/dbcat?useSSL=true"]
